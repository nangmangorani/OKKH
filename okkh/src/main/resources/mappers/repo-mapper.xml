<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "mybatis-3-mapper.dtd" >
<mapper namespace="repoMapper">

	<resultMap type="MyProject" id="myProjectResult">
		<result column="mypro_no" property="myproNo"/>
		<result column="ref_pro_no" property="refProNo"/>
		<result column="mypro_title" property="myproTitle"/>
		<result column="mypro_type" property="myproType"/>
		<result column="mypro_status" property="myproStatus"/>
	</resultMap>
	
	<resultMap type="Member" id="memberResult">
		<result column="mem_id" property="memId"/>
	</resultMap>

	<select id="selectMyProjectList" resultMap="myProjectResult">
		select
		       mypro_no
		     , mypro_title
		     , mypro_type
		     , mypro_status
		  from my_project p
		  join member on (ref_pro_no = team)
		 where mem_no = #{memNo}
		   and p.status = 'Y'
	</select>
	
	<select id="selectTeamMateList" resultMap="memberResult">
		select 
			   mem_no
			 , mem_id
		  from member
		 where team = (
		              select
		                     ref_pro_no
		                from my_project p
		                join member on (ref_pro_no = team)
		               where mem_no = #{memNo}
		                 and p.status = 'Y'
		              )
	</select>
	
	<insert id="insertMyProject">
		
	</insert>

</mapper>